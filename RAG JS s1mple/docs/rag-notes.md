# RAG JS s1mple — витрина возможностей проекта

## Назначение
RAG JS s1mple демонстрирует, как быстро собрать прикладной ассистент с расширенным доступом к корпоративным документам. Проект решает задачу точного ответа на вопросы пользователей за счет Retrieval-Augmented Generation: модель общается только на основе проверенного контента, что снижает риск галлюцинаций и повышает доверие к результатам.

## Архитектура и ключевые модули
- **Клиент** — одностраничное приложение на чистом HTML, CSS и JavaScript. В интерфейс встроен индикатор состояния RAG и блок ссылок на источники, чтобы пользователь мгновенно видел, откуда взят ответ.
- **Серверный слой** — компактный Node.js‑прокси. Он управляет диалогом с моделью OpenAI, обогащает запросы контекстом из векторной базы и формирует прозрачные ответы с ссылками.
- **Знаниевая база** — Qdrant в качестве хранилища семантических векторов. Индекс основан на косинусном расстоянии и оптимизирован для коротких текстовых фрагментов.

## Применённые технологии
- OpenAI API (`gpt-4o-mini` для генерации, `text-embedding-3-small` для эмбеддингов).
- Qdrant как векторная БД, управляемая через REST.
- Node.js (ESM/CommonJS) и стандартная библиотека без тяжёлых фреймворков — за счёт этого проект легко деплоится и масштабируется горизонтально.
- Автоматизация загрузки данных через собственный CLI (`ingest.js`), который парситMarkdown/текст, бьёт контент на фрагменты и массово отправляет эмбеддинги.

## Решение спорных вопросов
- **Контроль источников**: сервер принудительно добавляет контекст в системные промпты и отказывает в ответе, если подходящих фрагментов нет. Это сделано для соблюдения требований к достоверности.
- **Производительность**: в ingest‑конвейере реализована пакетная отправка эмбеддингов и батчевый `upsert`, что уменьшает количество запросов и защищает от API rate limits.
- **Безопасность ключей**: все секреты передаются через переменные окружения и не хранятся в репозитории.
- **Понятность для бизнеса**: клиент показывает список использованных документов, что делает ответы проверяемыми и пригодными для внутренняго аудита.

## Производственный цикл
1. Обновление знаний — запуск `node ingest.js --dir ./docs` после изменения материалов.
2. Старт сервера — `node server.js`, который отдаёт единый REST‑эндпоинт `/api/chat`.
3. Доступ к интерфейсу — локальный Live Server или любой статический хостинг.

## Планы развития
В следующей итерации проект получит:
- интеграцию с Zabex для углубленной работы с логами и аналитикой поведения ассистента;
- модуль управления персональными данными: отдельные политики хранения, обезличивание и автоматический аудит доступа.

Эти шаги обеспечат масштабируемость решения и его соответствие корпоративным стандартам безопасности.
